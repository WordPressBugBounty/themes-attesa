window.addComment=function(e){var t,n,i,d=e.document,o={commentReplyClass:"comment-reply-link",commentReplyTitleId:"reply-title",cancelReplyId:"cancel-comment-reply-link",commentFormId:"commentform",temporaryFormId:"wp-temp-form-div",parentIdFieldId:"comment_parent",postIdFieldId:"comment_post_ID"},r=e.MutationObserver||e.WebKitMutationObserver||e.MozMutationObserver,l="querySelector"in d&&"addEventListener"in e,a=!!d.documentElement.dataset;function m(){s(),function(){if(!r)return;new r(p).observe(d.body,{childList:!0,subtree:!0})}()}function s(e){if(l&&(t=v(o.cancelReplyId),n=v(o.commentFormId),t)){t.addEventListener("touchstart",c,{passive:!0}),t.addEventListener("click",c);var i=function(e){if((e.metaKey||e.ctrlKey)&&13===e.keyCode)return n.removeEventListener("keydown",i),e.preventDefault(),n.submit.click(),!1};n&&n.addEventListener("keydown",i);for(var r,a=function(e){var t,n=o.commentReplyClass;e&&e.childNodes||(e=d);t=d.getElementsByClassName?e.getElementsByClassName(n):e.querySelectorAll("."+n);return t}(e),m=0,s=a.length;m<s;m++)(r=a[m]).addEventListener("touchstart",y,{passive:!0}),r.addEventListener("click",y)}}function c(e){var t=v(o.temporaryFormId);if(t&&i){v(o.parentIdFieldId).value="0";var n=t.textContent;t.parentNode.replaceChild(i,t),this.style.display="none";var d=v(o.commentReplyTitleId),r=d&&d.firstChild,l=r&&r.nextSibling;r&&r.nodeType===Node.TEXT_NODE&&n&&(l&&"A"===l.nodeName&&l.id!==o.cancelReplyId&&(l.style.display=""),r.textContent=n),e.preventDefault()}}function y(t){var n=v(o.commentReplyTitleId),i=n&&n.firstChild.textContent,d=u(this,"belowelement"),r=u(this,"commentid"),l=u(this,"respondelement"),a=u(this,"postid"),m=u(this,"replyto")||i;d&&r&&l&&a&&!1===e.addComment.moveForm(d,r,l,a,m)&&t.preventDefault()}function p(e){for(var t=e.length;t--;)if(e[t].addedNodes.length)return void s()}function u(e,t){return a?e.dataset[t]:e.getAttribute("data-"+t)}function v(e){return d.getElementById(e)}return l&&"loading"!==d.readyState?m():l&&e.addEventListener("DOMContentLoaded",m,!1),{init:s,moveForm:function(r,l,a,m,s){var c=v(r);i=v(a);var y,p,u,f=v(o.parentIdFieldId),I=v(o.postIdFieldId),h=v(o.commentReplyTitleId),C=h&&h.firstChild,E=C&&C.nextSibling;if(c&&i&&f){void 0===s&&(s=C&&C.textContent),function(e){var t=o.temporaryFormId,n=v(t),i=v(o.commentReplyTitleId),r=i?i.firstChild.textContent:"";n||((n=d.createElement("div")).id=t,n.style.display="none",n.textContent=r,e.parentNode.insertBefore(n,e))}(i),m&&I&&(I.value=m),f.value=l,t.style.display="",c.parentNode.insertBefore(i,c.nextSibling),C&&C.nodeType===Node.TEXT_NODE&&(E&&"A"===E.nodeName&&E.id!==o.cancelReplyId&&(E.style.display="none"),C.textContent=s),t.onclick=function(){return!1};try{for(var b=0;b<n.elements.length;b++)if(y=n.elements[b],p=!1,"getComputedStyle"in e?u=e.getComputedStyle(y):d.documentElement.currentStyle&&(u=y.currentStyle),(y.offsetWidth<=0&&y.offsetHeight<=0||"hidden"===u.visibility)&&(p=!0),"hidden"!==y.type&&!y.disabled&&!p){y.focus();break}}catch(e){}return!1}}}}(window);