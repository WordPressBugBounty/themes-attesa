!function(t){"use strict";var a=t(window),o=t(document),e=t("body");a.on("load",function(){var o=t(".attesa-woocommerce-sticky-product");if(o.length){var e=t("header.site-header"),r=t("form.cart"),d=t(".footer-bottom-area"),n=r.height(),s=e.outerHeight();a.scroll(function(){var t=a.scrollTop(),e=a.height(),i=r.offset().top-s,c=d.offset().top;t>=i+n&&t<c-e?o.addClass("open"):o.removeClass("open")}),o.find(".attesa-sticky-button").click(function(){var a=t(".woocommerce div.product").offset().top-s-30;return t("html,body").animate({scrollTop:a},500),!1})}}),o.ready(function(){e.hasClass("attesa-ajax-add-to-cart")&&t(".single_add_to_cart_button").on("click",function(a){var o=t(this);if(!o.hasClass("disabled")){a.preventDefault();var e=o.closest("form.cart"),r=o.val(),d=e.find("input[name=quantity]").val()||1,n=e.find("input[name=product_id]").val()||r,s=e.find("input[name=variation_id]").val()||0,i={action:"attesa_woocommerce_ajax_add_to_cart",security:attesaWooSettings.nonce,product_id:n,product_sku:"",quantity:d,variation_id:s};t.ajax({type:"post",url:wc_add_to_cart_params.ajax_url,data:i,beforeSend:function(){o.removeClass("added").addClass("loading")},complete:function(t){t.responseJSON&&!0===t.responseJSON.error?o.text(attesaWooSettings.error).addClass("error").removeClass("loading"):o.text(attesaWooSettings.added_to_cart).addClass("added").removeClass("loading")},success:function(a){if(a.error&&a.product_url){window.location=a.product_url;return}t(document.body).trigger("added_to_cart",[a.fragments,a.cart_hash,o])}})}})})}(jQuery);